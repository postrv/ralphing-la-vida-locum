{
  "tasks": [
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Core Task Tracker Implementation",
        "original": "### 1. Core Task Tracker Implementation"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T01:35:39.322046Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T01:49:14.904867Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T01:49:15.107174Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Create `src/loop/task_tracker.rs` module",
          true
        ],
        [
          "Implement `TaskState` enum (NotStarted, InProgress, Blocked, InReview, Complete)",
          true
        ],
        [
          "Implement `TaskTracker` struct with HashMap<TaskId, TaskState>",
          true
        ],
        [
          "Add `TaskTrackerConfig` for thresholds (max_iterations, max_duration, etc.)",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "RBAC",
        "original": "### 4. RBAC"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Define roles (Admin, Developer, Viewer)",
          false
        ],
        [
          "Permission checks on all endpoints",
          false
        ],
        [
          "Custom role creation",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Error Context Injection",
        "original": "### 3. Error Context Injection"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T03:11:23.603910Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T03:14:46.611821Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T03:14:46.769277Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Capture recent error messages from Claude output",
          true
        ],
        [
          "Classify errors by type (compilation, test, security)",
          true
        ],
        [
          "Inject top 5 errors sorted by frequency",
          true
        ],
        [
          "Include file:line locations where available",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "MCP Client Foundation ✅ COMPLETE",
        "original": "### 1. MCP Client Foundation ✅ COMPLETE"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T01:49:23.979964Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T01:54:00.701209Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T01:54:01.014732Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 1,
        "commits": 1,
        "files_modified": 1,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Create `src/narsil/mod.rs` module structure",
          true
        ],
        [
          "Implement MCP tool invocation via subprocess",
          true
        ],
        [
          "Handle tool not available gracefully (return empty/None)",
          true
        ],
        [
          "Parse JSON responses",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "Progress Recording",
        "original": "### 4. Progress Recording"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Implement `record_progress()` with files touched",
          true
        ],
        [
          "Implement `record_no_progress()` with stagnation escalation",
          true
        ],
        [
          "Implement `block_task()` with reason classification",
          true
        ],
        [
          "Auto-block after N consecutive no-progress iterations",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Task Decomposition",
        "original": "### 3. Task Decomposition"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T03:14:54.957429Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T03:17:43.726607Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T03:17:43.887185Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Implement task splitting heuristics",
          true
        ],
        [
          "Create subtasks from blocked task",
          true
        ],
        [
          "Update task tracker with subtasks",
          true
        ],
        [
          "Track parent-child relationships",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "Recovery Strategy Generation",
        "original": "### 2. Recovery Strategy Generation"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:35:29.020799Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:38:12.674523Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:38:12.833741Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 1,
        "commits": 1,
        "files_modified": 1,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Define `RecoveryStrategy` enum",
          true
        ],
        [
          "IsolatedFix for compilation errors",
          true
        ],
        [
          "TestFirst for test failures",
          true
        ],
        [
          "Decompose for complexity",
          true
        ],
        [
          "GatherContext for missing info",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "narsil-cloud Integration",
        "original": "### 3. narsil-cloud Integration"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Authenticate with narsil-cloud API",
          false
        ],
        [
          "Generate CCGs via API",
          false
        ],
        [
          "Request CCG diff computations",
          false
        ],
        [
          "Verify DoD compliance",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Prompt Builder Foundation",
        "original": "### 1. Prompt Builder Foundation"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T01:54:09.351900Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:09:39.099890Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:09:39.259192Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Create `src/prompt/builder.rs` module",
          true
        ],
        [
          "Define `PromptBuilder` struct with fluent API",
          true
        ],
        [
          "Define `PromptContext` struct with all context fields",
          true
        ],
        [
          "Load base templates from embedded strings",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 5,
        "phase": null,
        "title": "State Persistence",
        "original": "### 5. State Persistence"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Implement `save()` to `.ralph/task_state.json`",
          true
        ],
        [
          "Implement `load()` to restore state across sessions",
          true
        ],
        [
          "Handle schema migration for future versions",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "Security Scan Integration ✅ COMPLETE",
        "original": "### 2. Security Scan Integration ✅ COMPLETE"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:42:01.695566Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:45:02.588907Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:45:02.777649Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Invoke `scan_security` tool",
          true
        ],
        [
          "Parse findings by severity",
          true
        ],
        [
          "Integrate with Security gate",
          true
        ],
        [
          "Cache results within iteration",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "Clippy Gate",
        "original": "### 2. Clippy Gate"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:45:11.023962Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:47:06.276629Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:47:06.471732Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Run `cargo clippy --all-targets -- -D warnings`",
          true
        ],
        [
          "Parse warning count from stderr",
          true
        ],
        [
          "Capture warning details for remediation",
          true
        ],
        [
          "Return pass/fail with details",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 7,
        "phase": null,
        "title": "Remediation Prompt Generation",
        "original": "### 7. Remediation Prompt Generation"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Generate detailed fix guidance per gate",
          true
        ],
        [
          "Include specific file:line references",
          true
        ],
        [
          "Truncate verbose output",
          true
        ],
        [
          "Provide general remediation tips",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Task Selection Logic",
        "original": "### 3. Task Selection Logic"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Implement `select_next_task()` with priority ordering",
          true
        ],
        [
          "Continue in-progress tasks unless stuck",
          true
        ],
        [
          "Prioritize InReview tasks (almost done)",
          true
        ],
        [
          "Retry blocked tasks with attempt limits",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Reporting",
        "original": "### 3. Reporting"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Generate PDF quality reports",
          false
        ],
        [
          "Generate HTML dashboards",
          false
        ],
        [
          "Export data as CSV/JSON",
          false
        ],
        [
          "Schedule automated reports",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 8,
        "phase": null,
        "title": "can_commit() Integration",
        "original": "### 8. can_commit() Integration"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Add `can_commit()` check in LoopManager",
          true
        ],
        [
          "Block commits when gates fail",
          true
        ],
        [
          "Inject remediation prompt for next iteration",
          true
        ],
        [
          "Track gate history for analytics",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 5,
        "phase": null,
        "title": "Intelligence-Informed Prompts ✅ UNBLOCKED",
        "original": "### 5. Intelligence-Informed Prompts ✅ UNBLOCKED"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Add `CodeIntelligenceContext` struct for prompt enrichment",
          false
        ],
        [
          "Extract key metrics from L0 manifest (symbol counts, security summary)",
          false
        ],
        [
          "Extract architectural info from L1 (module hierarchy, public API)",
          false
        ],
        [
          "Inject CCG-derived context into prompts when available",
          false
        ],
        [
          "Keep intelligence payload concise (< 1KB added to prompts)",
          false
        ],
        [
          "Fall back to basic prompts when CCG unavailable",
          false
        ],
        [
          "Parse CCG constraint specifications",
          false
        ],
        [
          "Support basic constraints (noDirectCalls, maxComplexity)",
          false
        ],
        [
          "Validate constraint syntax",
          false
        ],
        [
          "Store constraints for reference",
          false
        ],
        [
          "Inject relevant constraints into prompts",
          false
        ],
        [
          "Warn when working on constrained code",
          false
        ],
        [
          "Suggest constraint-compliant approaches",
          false
        ],
        [
          "Invoke narsil-cloud CCG diff API",
          false
        ],
        [
          "Verify changes satisfy DoD constraints",
          false
        ],
        [
          "Generate verification certificate",
          false
        ],
        [
          "Track compliance metrics",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "SSO Integration",
        "original": "### 2. SSO Integration"
      },
      "state": "InReview",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:47:14.465317Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:47:55.506339Z",
          "reason": "Submitted for review",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "SAML 2.0 support",
          false
        ],
        [
          "OIDC support",
          false
        ],
        [
          "Session management",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Code Intelligence Queries ✅ COMPLETE",
        "original": "### 3. Code Intelligence Queries ✅ COMPLETE"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Invoke `get_call_graph` for function context",
          true
        ],
        [
          "Invoke `find_references` for impact analysis",
          true
        ],
        [
          "Invoke `get_dependencies` for module context",
          true
        ],
        [
          "Use results to enrich prompts",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "Checkpoint Creation",
        "original": "### 2. Checkpoint Creation"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:48:07.804809Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:51:36.112798Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:51:36.304967Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Create checkpoint before starting new task",
          true
        ],
        [
          "Create checkpoint after quality gates pass",
          true
        ],
        [
          "Store as git tag with metadata",
          true
        ],
        [
          "Limit checkpoint count (prune old ones)",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 6,
        "phase": null,
        "title": "Integration with LoopManager",
        "original": "### 6. Integration with LoopManager"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Add TaskTracker to LoopManager",
          true
        ],
        [
          "Call task tracker at iteration boundaries",
          true
        ],
        [
          "Use task context in prompt generation",
          true
        ],
        [
          "Add task summary to analytics",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Audit Logging",
        "original": "### 3. Audit Logging"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Log all API actions",
          false
        ],
        [
          "Log all campaign executions",
          false
        ],
        [
          "Log all quality decisions",
          false
        ],
        [
          "Export audit logs",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 5,
        "phase": null,
        "title": "Session Stats and Urgency",
        "original": "### 5. Session Stats and Urgency"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Inject total iterations used and remaining",
          true
        ],
        [
          "Inject tasks completed and remaining",
          true
        ],
        [
          "Add time pressure warnings at budget thresholds",
          true
        ],
        [
          "Add stagnation count awareness",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Enhanced Checkpoint Structure",
        "original": "### 1. Enhanced Checkpoint Structure"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:09:47.302498Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:15:05.095451Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:15:05.288170Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Add QualityMetrics to Checkpoint struct",
          true
        ],
        [
          "Store test pass count, clippy warnings, security issues",
          true
        ],
        [
          "Store files modified list",
          true
        ],
        [
          "Add human-readable description",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "CCG Loading (L0-L2) ✅ UNBLOCKED",
        "original": "### 4. CCG Loading (L0-L2) ✅ UNBLOCKED"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Add `CcgManifest` struct matching narsil-mcp L0 schema",
          false
        ],
        [
          "Add `CcgArchitecture` struct matching narsil-mcp L1 schema",
          false
        ],
        [
          "Add `NarsilClient::get_ccg_manifest()` method (invoke CLI tool)",
          false
        ],
        [
          "Add `NarsilClient::get_ccg_architecture()` method",
          false
        ],
        [
          "Add `NarsilClient::export_ccg()` method for full bundle",
          false
        ],
        [
          "Gracefully degrade when narsil-mcp unavailable (return None/empty)",
          false
        ],
        [
          "Cache CCG data within session to avoid repeated calls",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Orchestrator Foundation",
        "original": "### 1. Orchestrator Foundation"
      },
      "state": "InReview",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:15:13.287950Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:16:00.043742Z",
          "reason": "Submitted for review",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 1,
        "commits": 1,
        "files_modified": 1,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Create `Orchestrator` struct",
          false
        ],
        [
          "Multi-project job queue",
          false
        ],
        [
          "Sandboxed execution environment",
          false
        ],
        [
          "Job scheduling (cron, webhook triggers)",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "Task Context Injection",
        "original": "### 2. Task Context Injection"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:51:44.529247Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:57:38.984416Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:57:43.175401Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Inject current task name and description",
          true
        ],
        [
          "Inject time and iterations spent on task",
          true
        ],
        [
          "Inject files of interest for the task",
          true
        ],
        [
          "Inject previous attempt summaries",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "IMPLEMENTATION_PLAN.md Parsing",
        "original": "### 2. IMPLEMENTATION_PLAN.md Parsing"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:58:07.636219Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T03:03:59.078496Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T03:04:03.374474Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Parse task headers (### N. Task Name)",
          true
        ],
        [
          "Parse checkbox completion status",
          true
        ],
        [
          "Auto-detect task completion from checkbox state",
          true
        ],
        [
          "Handle nested subtasks",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "No-Allow Gate",
        "original": "### 4. No-Allow Gate"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Scan for `#[allow(...)]` annotations in src/",
          true
        ],
        [
          "Report file:line locations",
          true
        ],
        [
          "Exclude legitimate uses if any",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "Focused Retry Prompts",
        "original": "### 4. Focused Retry Prompts"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Generate recovery-specific prompts",
          true
        ],
        [
          "Include only relevant context",
          true
        ],
        [
          "Explicitly constrain scope",
          true
        ],
        [
          "Reference previous failure",
          true
        ],
        [
          "Track iteration history",
          true
        ],
        [
          "Detect repeated file touches",
          true
        ],
        [
          "Detect error repetition",
          true
        ],
        [
          "Detect mode oscillation",
          true
        ],
        [
          "Calculate risk score",
          true
        ],
        [
          "Inject guidance when risk high",
          true
        ],
        [
          "Narrow focus when risk medium",
          true
        ],
        [
          "Log predictions for analysis",
          true
        ],
        [
          "Collect training data from sessions",
          false
        ],
        [
          "Train stagnation prediction model",
          false
        ],
        [
          "Deploy model for inference",
          false
        ],
        [
          "Improve with feedback loop",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "Quality Gate Status Injection",
        "original": "### 4. Quality Gate Status Injection"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Inject test pass/fail status with counts",
          true
        ],
        [
          "Inject clippy warning count",
          true
        ],
        [
          "Inject security issue count",
          true
        ],
        [
          "Use emoji indicators (✅/❌) for clarity",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Team Management",
        "original": "### 1. Team Management"
      },
      "state": "InReview",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:18:51.735313Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:19:56.171145Z",
          "reason": "Submitted for review",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Organization/team hierarchy",
          false
        ],
        [
          "Invite/remove team members",
          false
        ],
        [
          "Project assignment to teams",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Failure Classification",
        "original": "### 1. Failure Classification"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:20:08.475647Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:23:16.061675Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:23:16.254265Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Create `FailureClass` enum",
          true
        ],
        [
          "Classify compilation errors",
          true
        ],
        [
          "Classify test failures",
          true
        ],
        [
          "Classify complexity issues",
          true
        ],
        [
          "Classify missing context",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "Automatic Rollback",
        "original": "### 4. Automatic Rollback"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Implement `rollback_to(checkpoint_id)`",
          true
        ],
        [
          "Restore git state",
          true
        ],
        [
          "Log rollback event",
          true
        ],
        [
          "Clear task tracker state appropriately",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 4,
        "phase": null,
        "title": "Quality Certification",
        "original": "### 4. Quality Certification"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Generate certification JSON",
          false
        ],
        [
          "Create badge endpoints (shields.io style)",
          false
        ],
        [
          "Store certification history",
          false
        ],
        [
          "Revoke on regression",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 5,
        "phase": null,
        "title": "No-TODO Gate",
        "original": "### 5. No-TODO Gate"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Scan for TODO/FIXME comments in src/",
          true
        ],
        [
          "Report file:line locations",
          true
        ],
        [
          "Consider allowing in test files",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Test Gate",
        "original": "### 3. Test Gate"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Run `cargo test`",
          true
        ],
        [
          "Parse test results from output",
          true
        ],
        [
          "Capture failing test names and output",
          true
        ],
        [
          "Return pass count and failure details",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 6,
        "phase": null,
        "title": "Anti-Pattern Detection",
        "original": "### 6. Anti-Pattern Detection"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Detect repeated file editing without commit",
          true
        ],
        [
          "Detect tests not being run",
          true
        ],
        [
          "Detect clippy not being run",
          true
        ],
        [
          "Detect task oscillation",
          true
        ],
        [
          "Inject remediation guidance",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Quality Gate Framework",
        "original": "### 1. Quality Gate Framework"
      },
      "state": "Complete",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:23:24.130273Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:28:00.936843Z",
          "reason": "Submitted for review",
          "block_reason": null
        },
        {
          "from": "InReview",
          "to": "Complete",
          "timestamp": "2026-01-18T02:28:01.141062Z",
          "reason": "Task completed",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 2,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 1,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Create `src/quality/mod.rs` module structure",
          true
        ],
        [
          "Define `QualityGateResult` struct",
          true
        ],
        [
          "Define `QualityGateEnforcer` struct",
          true
        ],
        [
          "Implement `run_all_gates()` method",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 1,
        "phase": null,
        "title": "Metrics Collection",
        "original": "### 1. Metrics Collection"
      },
      "state": "InReview",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T02:28:09.112069Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T02:35:20.624703Z",
          "reason": "Submitted for review",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 1,
        "commits": 1,
        "files_modified": 1,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Define quality metrics schema",
          false
        ],
        [
          "Collect per-session metrics",
          false
        ],
        [
          "Aggregate across time periods",
          false
        ],
        [
          "Store in time-series DB",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "Trend Analysis",
        "original": "### 2. Trend Analysis"
      },
      "state": "InReview",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T03:04:11.367392Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T03:10:08.959677Z",
          "reason": "Submitted for review",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 1,
        "commits": 1,
        "files_modified": 1,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Calculate quality score trend",
          false
        ],
        [
          "Detect improvement/degradation",
          false
        ],
        [
          "Compare across projects",
          false
        ],
        [
          "Generate trend charts",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 6,
        "phase": null,
        "title": "Security Gate (narsil-mcp integration)",
        "original": "### 6. Security Gate (narsil-mcp integration)"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Attempt to invoke narsil-mcp scan_security",
          true
        ],
        [
          "Parse CRITICAL/HIGH findings",
          true
        ],
        [
          "Skip gracefully if narsil-mcp unavailable",
          true
        ],
        [
          "Return finding details",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 2,
        "phase": null,
        "title": "Campaign Management",
        "original": "### 2. Campaign Management"
      },
      "state": "InReview",
      "transitions": [
        {
          "from": "NotStarted",
          "to": "InProgress",
          "timestamp": "2026-01-18T03:10:17.493455Z",
          "reason": "Task started",
          "block_reason": null
        },
        {
          "from": "InProgress",
          "to": "InReview",
          "timestamp": "2026-01-18T03:11:11.051767Z",
          "reason": "Submitted for review",
          "block_reason": null
        }
      ],
      "metrics": {
        "iterations": 1,
        "commits": 1,
        "files_modified": 1,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Define `Campaign` struct (project, DoD, schedule)",
          false
        ],
        [
          "Create/update/delete campaigns via API",
          false
        ],
        [
          "Track campaign execution history",
          false
        ],
        [
          "Support incremental refactoring campaigns",
          false
        ]
      ]
    },
    {
      "id": {
        "number": 3,
        "phase": null,
        "title": "Regression Detection",
        "original": "### 3. Regression Detection"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Compare current metrics against last checkpoint",
          true
        ],
        [
          "Detect test count decrease",
          true
        ],
        [
          "Detect clippy warning increase",
          true
        ],
        [
          "Detect security issue increase",
          true
        ],
        [
          "Calculate regression severity",
          true
        ]
      ]
    },
    {
      "id": {
        "number": 5,
        "phase": null,
        "title": "Rollback Decision Logic",
        "original": "### 5. Rollback Decision Logic"
      },
      "state": "NotStarted",
      "transitions": [],
      "metrics": {
        "iterations": 0,
        "commits": 0,
        "files_modified": 0,
        "no_progress_count": 0,
        "quality_failures": 0,
        "lines_changed": 0
      },
      "block_reason": null,
      "checkboxes": [
        [
          "Define regression thresholds",
          true
        ],
        [
          "Auto-rollback on critical regression",
          true
        ],
        [
          "Log decision reasoning",
          true
        ],
        [
          "Notify in next prompt about rollback",
          true
        ]
      ]
    }
  ],
  "current_task": null,
  "config": {
    "max_attempts_per_task": 10,
    "task_timeout_secs": 3600,
    "stagnation_threshold": 5,
    "max_quality_failures": 3,
    "auto_save": true
  },
  "created_at": "2026-01-18T01:35:39.309721Z",
  "modified_at": "2026-01-18T03:21:07.209381Z"
}